# Development Dockerfile for Auto Discovery Frontend
# Includes Angular CLI for hot module reloading

FROM node:20-alpine

WORKDIR /app

# Install Angular CLI 14 globally
RUN npm install -g @angular/cli@14

# Note: package*.json and npm install happen via volume mount
# The /app directory will be volume-mounted from host's frontend directory
# Initial build doesn't need package files - they're created by ng new

# Expose dev server port
EXPOSE 4200

# Keep container running for exec commands
CMD ["tail", "-f", "/dev/null"]

# Usage:
# docker run -d --name auto-discovery-dev \
#   --network host \
#   -v $(pwd)/frontend:/app:z \
#   -w /app \
#   auto-discovery-frontend:dev
#
# Then start dev server:
# docker exec -it auto-discovery-dev npm start -- --host 0.0.0.0 --port 4200
